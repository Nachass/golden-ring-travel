<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–µ—Ç–∞–ª–∏ —Ç—É—Ä–∞ - –ó–æ–ª–æ—Ç–æ–µ –∫–æ–ª—å—Ü–æ</title>
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo" onclick="location.href='index.html'">
                    üèõÔ∏è –ó–æ–ª–æ—Ç–æ–µ –ö–æ–ª—å—Ü–æ
                </div>
                <div class="header-controls">
                    <div class="settings">
                        <button id="settingsBtn">‚öôÔ∏è</button>
                        <div class="settings-dropdown" id="settingsDropdown">
                            <button id="themeToggle">–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞</button>
                            <button id="adminLoginBtn">–ê–¥–º–∏–Ω –≤—Ö–æ–¥</button>
                        </div>
                    </div>
                    <div class="profile-section">
                        <button id="profileBtn" class="profile-btn">–í–æ–π—Ç–∏</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <div id="tourDetails">
                <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç—É—Ä–µ...</div>
            </div>
        </div>
    </main>

    <!-- –ü–æ–ø–∞–ø –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ -->
    <div id="bookingPopup" class="popup scrollable-popup">
        <div class="popup-content booking-popup-content">
            <span class="close" onclick="tourApp.closeBookingPopup()">&times;</span>
            <h3 class="booking-title">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h3>
            
            <div class="booking-steps">
                <div class="step active" data-step="1">1. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
                <div class="step" data-step="2">2. –û–ø–ª–∞—Ç–∞</div>
                <div class="step" data-step="3">3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</div>
            </div>
            
            <div id="bookingForm" class="booking-form">
                <!-- –®–∞–≥ 1: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ -->
                <div class="booking-step active" id="step1">
                    <div class="booking-summary">
                        <div class="tour-image-mini">
                            <img id="bookingTourImage" src="" alt="" class="tour-image">
                        </div>
                        <div class="tour-info">
                            <h4 id="bookingTourTitle" class="tour-title"></h4>
                            <div class="tour-meta-small">
                                <span id="bookingTourCity" class="tour-city"></span>
                                <span id="bookingTourDuration" class="tour-duration"></span>
                            </div>
                            <div class="price-section">
                                <div class="price-per-ticket">
                                    <span id="bookingTourPrice" class="tour-price"></span> –∑–∞ –±–∏–ª–µ—Ç
                                </div>
                                <div class="seats-available">
                                    <span id="bookingTourSeats" class="tour-seats"></span> –º–µ—Å—Ç –¥–æ—Å—Ç—É–ø–Ω–æ
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="ticket-selection">
                        <div class="form-group">
                            <label class="form-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤:</label>
                            <div class="ticket-counter">
                                <button type="button" class="counter-btn decrease-btn" data-action="decrease">-</button>
                                <input type="number" id="ticketCount" class="ticket-input" min="1" max="10" value="1" readonly>
                                <button type="button" class="counter-btn increase-btn" data-action="increase">+</button>
                            </div>
                        </div>
                        
                        <div class="price-breakdown">
                            <div class="price-row">
                                <span class="price-label">–°—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–æ–≤:</span>
                                <span id="ticketsSubtotal" class="price-value">0 ‚ÇΩ</span>
                            </div>
                            <div class="price-row">
                                <span class="price-label">–°–±–æ—Ä –∑–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ:</span>
                                <span id="serviceFee" class="price-value">0 ‚ÇΩ</span>
                            </div>
                            <div class="price-row total">
                                <span class="price-label">–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ:</span>
                                <span id="totalPrice" class="price-value">0 ‚ÇΩ</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Email –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–∏–ª–µ—Ç–æ–≤:</label>
                        <input type="email" id="customerEmail" class="form-input email-input" placeholder="your@email.com" required>
                        <small class="form-hint">–ù–∞ —ç—Ç–æ—Ç email –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –±–∏–ª–µ—Ç—ã</small>
                    </div>
                    
                    <div class="form-buttons">
                        <button type="button" class="next-btn step1-next" data-next="2">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                    </div>
                </div>
                
                <!-- –®–∞–≥ 2: –û–ø–ª–∞—Ç–∞ -->
                <div class="booking-step" id="step2">
                    <div class="payment-methods">
                        <div class="payment-method active" data-method="card">
                            <input type="radio" name="paymentMethod" id="paymentCard" class="payment-radio" value="card" checked>
                            <label for="paymentCard" class="payment-label">üí≥ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞</label>
                        </div>
                        <div class="payment-method" data-method="sbp">
                            <input type="radio" name="paymentMethod" id="paymentSBP" class="payment-radio" value="sbp">
                            <label for="paymentSBP" class="payment-label">üì± –°–ë–ü</label>
                        </div>
                    </div>
                    
                    <div class="payment-details card-details active" id="cardDetails">
                        <div class="form-group">
                            <label class="form-label">–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã:</label>
                            <input type="text" id="cardNumber" class="form-input card-input" placeholder="1234 5678 9012 3456" pattern="[0-9\s]{13,19}" required>
                            <div class="card-icons">
                                <span class="card-icon">üí≥</span>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è:</label>
                                <input type="text" id="cardExpiry" class="form-input expiry-input" placeholder="–ú–ú/–ì–ì" pattern="(0[1-9]|1[0-2])\/[0-9]{2}" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">CVV:</label>
                                <input type="password" id="cardCVV" class="form-input cvv-input" placeholder="123" pattern="[0-9]{3}" required>
                                <div class="cvv-hint" title="3 —Ü–∏—Ñ—Ä—ã –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –∫–∞—Ä—Ç—ã">?</div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">–ò–º—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–∞—Ä—Ç—ã:</label>
                            <input type="text" id="cardHolder" class="form-input holder-input" placeholder="IVAN IVANOV" required>
                        </div>
                    </div>
                    
                    <div class="payment-details sbp-details" id="sbpDetails">
                        <div class="sbp-info">
                            <p class="sbp-description">–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ –°–ë–ü</p>
                            <div class="sbp-qr-placeholder">
                                <div class="qr-code">QR-–∫–æ–¥ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="security-notice">
                        <div class="secure-badge">üîí –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–ø–ª–∞—Ç–∞</div>
                        <p class="security-text">–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã SSL-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º</p>
                    </div>
                    
                    <div class="form-buttons">
                        <button type="button" class="back-btn step2-back" data-back="1">–ù–∞–∑–∞–¥</button>
                        <button type="button" class="next-btn step2-next" data-next="3">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                    </div>
                </div>
                
                <!-- –®–∞–≥ 3: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ -->
                <div class="booking-step" id="step3">
                    <div class="confirmation-content">
                        <div class="confirmation-header">
                            <div class="confirmation-icon">‚úÖ</div>
                            <h3 class="confirmation-title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h3>
                        </div>
                        
                        <div class="booking-summary-confirm">
                            <h4 class="summary-title">–î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞:</h4>
                            <div class="summary-item">
                                <span class="summary-label">–¢—É—Ä:</span>
                                <span id="confirmTourTitle" class="summary-value"></span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤:</span>
                                <span id="confirmTicketCount" class="summary-value"></span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">Email –¥–ª—è –±–∏–ª–µ—Ç–æ–≤:</span>
                                <span id="confirmEmail" class="summary-value"></span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:</span>
                                <span id="confirmPaymentMethod" class="summary-value"></span>
                            </div>
                            <div class="summary-item total">
                                <span class="summary-label">–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ:</span>
                                <span id="confirmTotalPrice" class="summary-value"></span>
                            </div>
                        </div>
                        
                        <div class="security-notice">
                            <div class="secure-badge">üîí –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–ø–ª–∞—Ç–∞</div>
                            <p class="security-text">–ù–∞–∂–∏–º–∞—è "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑", –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å —É—Å–ª–æ–≤–∏—è–º–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</p>
                        </div>
                        
                        <div class="form-buttons">
                            <button type="button" class="back-btn step3-back" data-back="2">–ù–∞–∑–∞–¥</button>
                            <button type="button" class="submit-btn final-submit-btn" id="finalSubmitBtn">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ü–æ–ø–∞–ø —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è -->
    <div id="successPopup" class="popup">
        <div class="popup-content success-popup-content">
            <span class="close" onclick="tourApp.closeSuccessPopup()">&times;</span>
            <div class="success-content">
                <div class="success-icon">‚úÖ</div>
                <h3 class="success-title">–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω!</h3>
                <div id="successMessage" class="success-message"></div>
                <button onclick="tourApp.closeSuccessPopup()" class="success-ok-btn">
                    –ü–æ–Ω—è—Ç–Ω–æ
                </button>
            </div>
        </div>
    </div>

    <script src="js/tour.js"></script>
</body>
</html>